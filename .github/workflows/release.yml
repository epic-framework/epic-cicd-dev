name: Release

on:
  workflow_dispatch:
    inputs:
      update_type:
        description: "Version bump type"
        required: true
        default: "patch"
        type: choice
        options:
          - patch
          - minor
          - major
      pypi_target:
        description: "PyPI target"
        required: true
        default: "Test PyPI"  # TODO:! change to production in a real job
        type: choice
        options:
          - "PyPI Prod"
          - "Test PyPI"

jobs:
  release:
    uses: epic-framework/.github/.github/workflows/release.yml@main
    with:
      update_type: ${{ inputs.update_type }}
      pypi_target: ${{ inputs.pypi_target }}
    secrets:
      SLACK_WEBHOOK_URL: ${{ secrets.SLACK_WEBHOOK_URL__RELEASE }}
